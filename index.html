<!DOCTYPE html>
<html>
<body>
<h2>Period tracker sample</h2>
<button onclick="postMessage('get_access_')">Get Info</button>
<button onclick="postMessage('refresh_access_token')">Refresh Access Token</button>
<p id="demo"></p>
<script>

    function postMessage(operation) {
    try {
       let requestCode = "user_auth."+operation;
        let json = {
           "request_id":"1235",
           "request_body":{
              "request_code" : requestCode,
              "data": {
              }
           },
           "callback":"JSMethodToSendResponse"
        }
        alert("Request : "+JSON.stringify(json));
  		JSToNativeBridge.callToNative(JSON.stringify(json));
    } catch(err) {
    	alert("In catch");
    	alert("Error: "+err)
        let x = document.getElementsByTagName("h3")[0];
        x.innerHTML = "error" + err;
    }

    }
 function JSMethodToSendResponse(string) {
 	document.write(string);
 		alert("response"+JSON.stringify(string));
      var x = document.getElementsByTagName("h3")[0];
      x.innerHTML = JSON.stringify(string);
    }

</script>
<h3></h3>
</body>
</html>